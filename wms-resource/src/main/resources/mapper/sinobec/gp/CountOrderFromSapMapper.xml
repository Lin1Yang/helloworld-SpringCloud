<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.inossem.wms.dao.sinobec.gp.CountOrderFromSapMapper" >
  <resultMap id="BaseResultMap" type="com.inossem.wms.model.sinobec.gp.CountOrderFromSap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    <id column="rid" property="rid" jdbcType="VARCHAR" />
    <result column="count_order" property="countOrder" jdbcType="VARCHAR" />
    <result column="dn_item_num" property="dnItemNum" jdbcType="VARCHAR" />
    <result column="wh_code" property="whCode" jdbcType="VARCHAR" />
    <result column="mat_code" property="matCode" jdbcType="VARCHAR" />
    <result column="unit_code" property="unitCode" jdbcType="VARCHAR" />
    <result column="ext0" property="ext0" jdbcType="VARCHAR" />
    <result column="ext1" property="ext1" jdbcType="VARCHAR" />
    <result column="ext2" property="ext2" jdbcType="VARCHAR" />
    <result column="status" property="status" jdbcType="TINYINT" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    rid, count_order, dn_item_num, wh_code, mat_code, unit_code, ext0, ext1, ext2, status
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    select
    <include refid="Base_Column_List" />
    from count_order_from_sap
    where rid = #{rid,jdbcType=VARCHAR}
  </select>

  <select id="selectByInfoKey"  resultType="java.lang.Integer" parameterType="java.lang.String" >

    select
   	count(1)
    from count_order_from_sap
    where count_order = #{order,jdbcType=VARCHAR}
    and mat_code = #{sku,jdbcType=VARCHAR}
    <if test="vin != null and vin != ''">
    	and ext0 = #{vin,jdbcType=VARCHAR}
    </if>
    <if test="eng != null and eng != ''">
    	and ext1 = #{eng,jdbcType=VARCHAR}
    </if>
  </select>


  <delete id="deleteByPrimaryKey" parameterType="java.lang.String" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    delete from count_order_from_sap
    where rid = #{rid,jdbcType=VARCHAR}
  </delete>
  <insert id="insert" parameterType="com.inossem.wms.model.sinobec.gp.CountOrderFromSap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    insert into count_order_from_sap (rid, count_order, dn_item_num,
      wh_code, mat_code, unit_code,
      ext0, ext1, ext2, status
      )
    values (#{rid,jdbcType=VARCHAR}, #{countOrder,jdbcType=VARCHAR}, #{dnItemNum,jdbcType=VARCHAR},
      #{whCode,jdbcType=VARCHAR}, #{matCode,jdbcType=VARCHAR}, #{unitCode,jdbcType=VARCHAR},
      #{ext0,jdbcType=VARCHAR}, #{ext1,jdbcType=VARCHAR}, #{ext2,jdbcType=VARCHAR}, #{status,jdbcType=TINYINT}
      )
  </insert>

  <insert id="insertList" parameterType="java.util.List" >

    INSERT INTO count_order_from_sap (
    		rid,
    		count_order,
    		dn_item_num,
    		wh_code,
      		mat_code,
      		unit_code,
      		status,
      		corp_code,
      		lot_numb,
      		ext0,
      		ext1,
      		ext2,
      		ext10
    )
    VALUES
	    <foreach collection="list" item="item" index= "index" separator =",">
	      (	#{item.rid,			jdbcType = VARCHAR	},
	      	#{item.countOrder,	jdbcType = VARCHAR	},
	      	#{item.dnItemNum,	jdbcType = VARCHAR	},
	      	#{item.whCode,		jdbcType = VARCHAR	},
      		#{item.matCode,		jdbcType = VARCHAR	},
      		#{item.unitCode,	jdbcType = VARCHAR	},
            #{item.status,	    jdbcType = TINYINT	},
            #{item.corpCode,	jdbcType = VARCHAR	},
            #{item.lotNumb,	    jdbcType = VARCHAR	},
            #{item.ext0,		jdbcType = VARCHAR	},
      		#{item.ext1,		jdbcType = VARCHAR	},
      		#{item.ext2,		jdbcType = VARCHAR	},
            #{item.ext10,		jdbcType = VARCHAR	}
      		)
	     </foreach>
	ON  DUPLICATE  KEY  UPDATE
	      	rid = 				if( status = 0, values(rid), 			rid			),
	      	count_order = 		if( status = 0, values(count_order), 	count_order	),
	      	dn_item_num =   	if( status = 0, values(dn_item_num), 	dn_item_num	),
	      	wh_code = 			if( status = 0, values(wh_code), 		wh_code		),
	      	mat_code = 			if( status = 0, values(mat_code), 		mat_code	),
	      	unit_code =     	if( status = 0, values(unit_code), 		unit_code	),
            corp_code =     	if( status = 0, values(corp_code), 		corp_code	),
            lot_numb =     	    if( status = 0, values(lot_numb), 		lot_numb	),
            status =     	    if( status = 0, values(status), 		status	),
	      	ext0 =   			if( status = 0, values(ext0), 			ext0		),
	      	ext1 =   			if( status = 0, values(ext1), 			ext1		),
	      	ext2 =   			if( status = 0, values(ext2), 			ext2		),
            ext10 =   			if( status = 0, values(ext10), 			ext10		)

  </insert>

  <select id = "selectRejectableByCoAndStatus" resultType = "String" parameterType="java.util.List">

  	 SELECT count_order from count_order_from_sap
	 WHERE count_order
	 IN
	    <foreach collection = "list" index = "index" item = "item" open="(" close = ")" separator =",">
	       #{item}
	    </foreach>
	 AND status > 0

  </select>

  <insert id="insertSelective" parameterType="com.inossem.wms.model.sinobec.gp.CountOrderFromSap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    insert into count_order_from_sap
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="rid != null" >
        rid,
      </if>
      <if test="countOrder != null" >
        count_order,
      </if>
      <if test="dnItemNum != null" >
        dn_item_num,
      </if>
      <if test="whCode != null" >
        wh_code,
      </if>
      <if test="matCode != null" >
        mat_code,
      </if>
      <if test="unitCode != null" >
        unit_code,
      </if>
      <if test="ext0 != null" >
        ext0,
      </if>
      <if test="ext1 != null" >
        ext1,
      </if>
      <if test="ext2 != null" >
        ext2,
      </if>
      <if test="status != null" >
        status,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="rid != null" >
        #{rid,jdbcType=VARCHAR},
      </if>
      <if test="countOrder != null" >
        #{countOrder,jdbcType=VARCHAR},
      </if>
      <if test="dnItemNum != null" >
        #{dnItemNum,jdbcType=VARCHAR},
      </if>
      <if test="whCode != null" >
        #{whCode,jdbcType=VARCHAR},
      </if>
      <if test="matCode != null" >
        #{matCode,jdbcType=VARCHAR},
      </if>
      <if test="unitCode != null" >
        #{unitCode,jdbcType=VARCHAR},
      </if>
      <if test="ext0 != null" >
        #{ext0,jdbcType=VARCHAR},
      </if>
      <if test="ext1 != null" >
        #{ext1,jdbcType=VARCHAR},
      </if>
      <if test="ext2 != null" >
        #{ext2,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        #{status,jdbcType=TINYINT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.inossem.wms.model.sinobec.gp.CountOrderFromSap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    update count_order_from_sap
    <set >
      <if test="countOrder != null" >
        count_order = #{countOrder,jdbcType=VARCHAR},
      </if>
      <if test="dnItemNum != null" >
        dn_item_num = #{dnItemNum,jdbcType=VARCHAR},
      </if>
      <if test="whCode != null" >
        wh_code = #{whCode,jdbcType=VARCHAR},
      </if>
      <if test="matCode != null" >
        mat_code = #{matCode,jdbcType=VARCHAR},
      </if>
      <if test="unitCode != null" >
        unit_code = #{unitCode,jdbcType=VARCHAR},
      </if>
      <if test="ext0 != null" >
        ext0 = #{ext0,jdbcType=VARCHAR},
      </if>
      <if test="ext1 != null" >
        ext1 = #{ext1,jdbcType=VARCHAR},
      </if>
      <if test="ext2 != null" >
        ext2 = #{ext2,jdbcType=VARCHAR},
      </if>
      <if test="status != null" >
        status = #{status,jdbcType=TINYINT},
      </if>
    </set>
    where rid = #{rid,jdbcType=VARCHAR}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.inossem.wms.model.sinobec.gp.CountOrderFromSap" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Fri Jun 11 21:08:14 EDT 2021.
    -->
    update count_order_from_sap
    set count_order = #{countOrder,jdbcType=VARCHAR},
      dn_item_num = #{dnItemNum,jdbcType=VARCHAR},
      wh_code = #{whCode,jdbcType=VARCHAR},
      mat_code = #{matCode,jdbcType=VARCHAR},
      unit_code = #{unitCode,jdbcType=VARCHAR},
      ext0 = #{ext0,jdbcType=VARCHAR},
      ext1 = #{ext1,jdbcType=VARCHAR},
      ext2 = #{ext2,jdbcType=VARCHAR},
      status = #{status,jdbcType=TINYINT}
    where rid = #{rid,jdbcType=VARCHAR}
  </update>
</mapper>
